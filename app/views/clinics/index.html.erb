<p id="notice"><%= notice %></p>

<h1>Listing Clinics</h1>
 <%= form_for_filterrific @filterrific do |f| %>
  <div class="container-fluid">
    <div class="jumbotron row clinics-search">
      <div class="form-group">
        Search
        <%= f.text_field(
          :search_query,
          class: 'filterrific-periodically-observed',
          class: "form-control col-lg-8", id: "search_field"
        ) %>
      </div>
      <div class="form-group">
        State
        <%= f.select(
          :by_state,
          @filterrific.select_options[:by_state],
          { include_blank: '- Any -' },
          class: 'filterrific-periodically-observed',
          class: "form-control"
        ) %>
      </div>
      <div class="form-group">
        Municipality
        <%= f.select(
          :by_municipality,
          @filterrific.select_options[:by_municipality],
          { include_blank: '- Any -' },
          class: 'filterrific-periodically-observed',
          class: "form-control"
        ) %>
      </div>
      <div >
        <%= link_to reset_filterrific_url, { :class=>"btn btn-warning" } do %>
          Reset filters <div class="ripple-container"></div>
        <% end -%>

        <!-- this button is just to improve the UX, simulates the search that is made with ajax-->
        <button class="btn btn-success" id="search_button">Search<div class="ripple-container"></div></button>
      </div>
    </div>
  </div>
<%= render_filterrific_spinner %>
<% end %>
<% if current_user %>
<%= link_to new_clinic_path, { :class=>"btn btn-raised btn-success" } do %>  
    New Clinic <div class="ripple-container"></div>
<% end %>
<% end %>
<%= render(
  partial: 'clinics/list',
  locals: { clinics: @clinics }
) %>
